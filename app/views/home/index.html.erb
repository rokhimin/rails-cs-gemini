
    <!-- Navigation -->
    <nav class="navbar is-transparent" role="navigation" aria-label="main navigation">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item" href="#">
                    <h1 class="title is-4">Brew Blessed</h1>
                </a>
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
            <div class="navbar-menu">
                <div class="navbar-end">
                    <a class="navbar-item" href="#home">Home</a>
                    <a class="navbar-item" href="#products">Products</a>
                    <a class="navbar-item" href="#about">About Us</a>
                    <a class="navbar-item" href="#contact">Contact</a>
                    <div class="navbar-item">
                        <div class="buttons">
                            <a class="button is-link">
                                <span class="icon">
                                    <i class="fas fa-shopping-cart"></i>
                                </span>
                                <span>Cart (0)</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero is-fullheight-with-navbar hero-background">
        <div class="hero-body">
            <div class="container has-text-centered">
                <h1 class="title is-1 has-text-white">
                    Experience Premium Coffee
                </h1>
                <h2 class="subtitle is-3 has-text-white">
                    Sourced from the world's finest coffee regions
                </h2>
                <a href="#products" class="button is-link is-medium is-rounded">
                    Shop Now
                </a>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="section">
        <div class="container">
            <h2 class="title is-2 has-text-centered mb-6">Our Premium Coffee Selection</h2>
            
            <div class="columns is-multiline">
                <!-- Coffee Product 1 -->
                <div class="column is-3">
                    <div class="card coffee-card">
                        <div class="card-image">
                            <figure class="image is-4by3">
                                <img src="https://i.imgur.com/Cs8sPKR.png" alt="Ethiopian Yirgacheffe">
                            </figure>
                        </div>
                        <div class="card-content">
                            <p class="title is-4">Ethiopian Yirgacheffe</p>
                            <p class="subtitle is-6">$18.99</p>
                            <div class="content">
                                Bright and fruity with notes of citrus, berries, and a floral aroma.
                            </div>
                        </div>
                        <footer class="card-footer">
                            <a class="card-footer-item button is-link add-to-cart" data-id="1" data-name="Ethiopian Yirgacheffe" data-price="18.99">
                                <span class="icon">
                                    <i class="fas fa-cart-plus"></i>
                                </span>
                                <span>Add to Cart</span>
                            </a>
                        </footer>
                    </div>
                </div>

                <!-- Coffee Product 2 -->
                <div class="column is-3">
                    <div class="card coffee-card">
                        <div class="card-image">
                            <figure class="image is-4by3">
                                <img src="https://i.imgur.com/rPEC9Ek.png" alt="Colombian Supremo">
                            </figure>
                        </div>
                        <div class="card-content">
                            <p class="title is-4">Colombian Supremo</p>
                            <p class="subtitle is-6">$16.99</p>
                            <div class="content">
                                Well-balanced with a rich caramel sweetness and a touch of nuttiness.
                            </div>
                        </div>
                        <footer class="card-footer">
                            <a class="card-footer-item button is-link add-to-cart" data-id="2" data-name="Colombian Supremo" data-price="16.99">
                                <span class="icon">
                                    <i class="fas fa-cart-plus"></i>
                                </span>
                                <span>Add to Cart</span>
                            </a>
                        </footer>
                    </div>
                </div>

                <!-- Coffee Product 3 -->
                <div class="column is-3">
                    <div class="card coffee-card">
                        <div class="card-image">
                            <figure class="image is-4by3">
                                <img src="https://i.imgur.com/J5cRGLX.png" alt="Sumatra Mandheling">
                            </figure>
                        </div>
                        <div class="card-content">
                            <p class="title is-4">Sumatra Mandheling</p>
                            <p class="subtitle is-6">$19.99</p>
                            <div class="content">
                                Full-bodied with taste earthy flavors, herbal notes, and low acidity.
                            </div>
                        </div>
                        <footer class="card-footer">
                            <a class="card-footer-item button is-link add-to-cart" data-id="3" data-name="Sumatra Mandheling" data-price="19.99">
                                <span class="icon">
                                    <i class="fas fa-cart-plus"></i>
                                </span>
                                <span>Add to Cart</span>
                            </a>
                        </footer>
                    </div>
                </div>

                <!-- Coffee Product 4 -->
                <div class="column is-3">
                    <div class="card coffee-card">
                        <div class="card-image">
                            <figure class="image is-4by3">
                                <img src="https://i.imgur.com/7FYdkmm.png" alt="Guatemala Antigua">
                            </figure>
                        </div>
                        <div class="card-content">
                            <p class="title is-4">Guatemala Antigua</p>
                            <p class="subtitle is-6">$17.99</p>
                            <div class="content">
                                Complex with chocolate undertones, spice notes, and a smooth finish.
                            </div>
                        </div>
                        <footer class="card-footer">
                            <a class="card-footer-item button is-link add-to-cart" data-id="4" data-name="Guatemala Antigua" data-price="17.99">
                                <span class="icon">
                                    <i class="fas fa-cart-plus"></i>
                                </span>
                                <span>Add to Cart</span>
                            </a>
                        </footer>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section has-background-light">
        <div class="container">
            <div class="columns is-vcentered">
                <div class="column">
                    <h2 class="title is-2"><font color="grey">About Brew Blessed</font></h2>
                    <p class="subtitle">Committed to Quality Since 2010</p>
                    <div class="content">
                        <p>At Brew Blessed, we believe that every cup of coffee tells a story. Our journey began with a simple mission: to bring the world's finest coffee directly to your cup.</p>
                        <p>We carefully select beans from sustainable farms across the globe, working directly with farmers to ensure ethical practices and the highest quality.</p>
                        <p>Our master roasters bring decades of experience to create perfectly balanced roasts that highlight the unique characteristics of each origin.</p>
                    </div>
                </div>
                <div class="column">
                    <div class="box">
                        <figure class="image">
                            <img src="https://i.imgur.com/2KEFcCo.jpeg" alt="Coffee farm">
                        </figure>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section">
        <div class="container">
            <h2 class="title is-2 has-text-centered">Contact Us</h2>
            <div class="columns">
                <div class="column is-6 is-offset-3">
                    <div class="box">
                        <div class="field">
                            <label class="label">Name</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="Your name">
                            </div>
                        </div>
                        
                        <div class="field">
                            <label class="label">Email</label>
                            <div class="control">
                                <input class="input" type="email" placeholder="Your email">
                            </div>
                        </div>
                        
                        <div class="field">
                            <label class="label">Message</label>
                            <div class="control">
                                <textarea class="textarea" placeholder="Your message"></textarea>
                            </div>
                        </div>
                        
                        <div class="field">
                            <div class="control">
                                <button class="button is-link is-fullwidth">Send Message</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="columns">
                <div class="column is-4">
                    <h3 class="title is-4">Brew Blessed</h3>
                    <p>Premium coffee for coffee enthusiasts.</p>
                    <div class="social-icons mt-4">
                        <a href="#" class="icon is-medium">
                            <i class="fab fa-facebook fa-lg"></i>
                        </a>
                        <a href="#" class="icon is-medium">
                            <i class="fab fa-instagram fa-lg"></i>
                        </a>
                        <a href="#" class="icon is-medium">
                            <i class="fab fa-twitter fa-lg"></i>
                        </a>
                    </div>
                </div>
                <div class="column is-2">
                    <h4 class="title is-5">Links</h4>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#products">Products</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="column is-3">
                    <h4 class="title is-5">Contact</h4>
                    <p>
                        <span class="icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </span>
                        123 Coffee Street, Brewville
                    </p>
                    <p>
                        <span class="icon">
                            <i class="fas fa-phone"></i>
                        </span>
                        +1 (555) 123-4567
                    </p>
                    <p>
                        <span class="icon">
                            <i class="fas fa-envelope"></i>
                        </span>
                        info@brewbleessed.com
                    </p>
                </div>
                <div class="column is-3">
                    <h4 class="title is-5">Subscribe</h4>
                    <p>Get the latest updates and offers.</p>
                    <div class="field has-addons mt-3">
                        <div class="control is-expanded">
                            <input class="input" type="email" placeholder="Your email">
                        </div>
                        <div class="control">
                            <a class="button is-link">
                                Subscribe
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content has-text-centered mt-6">
                <p>© 2025 Brew Blessed. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Chat Widget -->
    <div class="chat-widget">
        <div class="chat-button">
            <span class="icon is-large has-text-white">
                <i class="fas fa-comments fa-lg"></i>
            </span>
        </div>
        <div class="chat-container">
            <div class="chat-header">
                <h4 class="title is-5 has-text-white mb-0">Customer Support</h4>
                <span class="icon has-text-white close-chat" style="cursor: pointer;">
                    <i class="fas fa-times"></i>
                </span>
            </div>
            <div class="chat-messages">
                <div class="message bot-message">
                    Hello! How can I help you with your coffee needs today?
                </div>
            </div>
            <div class="chat-input">
                <input type="text" placeholder="Type your message..." id="chat-input-field">
                <button class="button is-link send-message">
                    <span class="icon">
                        <i class="fas fa-paper-plane"></i>
                    </span>
                </button>
            </div>
        </div>
    </div>

<script>
$(document).ready(function () {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    // Toggle mobile menu
    $(".navbar-burger").click(function () {
        $(".navbar-burger").toggleClass("is-active");
        $(".navbar-menu").toggleClass("is-active");
    });

    // Add to cart
    $(".add-to-cart").click(function () {
        const id = $(this).data("id");
        const name = $(this).data("name");
        const price = parseFloat($(this).data("price"));

        const existingItem = cart.find(item => item.id === id);

        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push({ id, name, price, quantity: 1 });
        }

        localStorage.setItem("cart", JSON.stringify(cart));
        updateCart();
        showNotification(`Added ${name} to cart`);
    });

    function updateCart() {
        const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
        $(".navbar-item .button span:last-child").text(`Cart (${totalItems})`);
    }

    function showNotification(message) {
        const notification = $(`
            <div class="notification is-link is-light" style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
                <button class="delete"></button>
                ${message}
            </div>
        `);
        
        $("body").append(notification);
        notification.find(".delete").click(() => notification.remove());

        setTimeout(() => {
            notification.fadeOut(() => notification.remove());
        }, 3000);
    }

    // Chat widget functionality
    $(".chat-button").click(() => {
        $(".chat-container").css("display", "flex");
        $(".chat-button").hide();
    });

    $(".close-chat").click(() => {
        $(".chat-container").hide();
        $(".chat-button").show();
    });

    // Function to send message to Gemini API via Rails controller
    function sendMessageToGemini(userMessage) {
        $(".chat-messages").append(`
            <div class="message bot-message typing-indicator" style="font-style: italic;">
                AI Assistant is typing...
            </div>
        `);

        $.ajax({
            url: "/chat/send_message",
            method: "POST",
            headers: {
                "X-CSRF-Token": $('meta[name="csrf-token"]').attr('content')
            },
            data: { message: userMessage },
            success: function (response) {
                $(".typing-indicator").remove();
                $(".chat-messages").append(`
                    <div class="message bot-message">
                        ${response.response}
                    </div>
                `);
                $(".chat-messages").scrollTop($(".chat-messages")[0].scrollHeight);
            },
            error: function (error) {
                $(".typing-indicator").remove();
                console.error("Error:", error);
                $(".chat-messages").append(`
                    <div class="message bot-message">
                        I'm sorry, I'm having trouble connecting right now. Please try again later.
                    </div>
                `);
                $(".chat-messages").scrollTop($(".chat-messages")[0].scrollHeight);
            }
        });
    }

    // Handle sending messages
    function sendMessage() {
        const message = $("#chat-input-field").val().trim();

        if (message) {
            $(".chat-messages").append(`
                <div class="message user-message">
                    ${message}
                </div>
            `);
            
            $("#chat-input-field").val("");
            $(".chat-messages").scrollTop($(".chat-messages")[0].scrollHeight);
            sendMessageToGemini(message);
        }
    }

    $(".send-message").click(sendMessage);

    // Send message on Enter key
    $("#chat-input-field").keydown(function (e) {
        if (e.key === "Enter") {
            e.preventDefault();
            sendMessage();
        }
    });

    // Load cart data on page load
    updateCart();
});
</script>